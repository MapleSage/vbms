(()=>{var e={};e.id=329,e.ids=[329],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1885:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>o}),s(3849),s(1506),s(5866);var a=s(3191),r=s(8716),n=s(7922),l=s.n(n),i=s(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);s.d(t,d);let o=["",{children:["calendar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3849)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/calendar/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/calendar/page.tsx"],m="/calendar/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/calendar/page",pathname:"/calendar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6987:(e,t,s)=>{Promise.resolve().then(s.bind(s,4469))},2462:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},7802:()=>{},4469:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(326),r=s(7577),n=s(434),l=s(7358),i=s(6557);let d=(0,i.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),o=(0,i.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),c=(0,i.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function m(){let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(new Date),[m,x]=(0,r.useState)(!0),[h,g]=(0,r.useState)(null),u=t=>e.filter(e=>{let a=new Date(e.startDateTime),r=new Date(e.endDateTime),n=new Date(s.getFullYear(),s.getMonth(),t);return a<=n&&n<=r}),p=new Date(s.getFullYear(),s.getMonth()+1,0).getDate();new Date(s.getFullYear(),s.getMonth(),1).getDay();let b=s.toLocaleString("default",{month:"long",year:"numeric"}),v=new Date;v.getDate()===new Date().getDate()&&v.getMonth()===s.getMonth()&&(v.getFullYear(),s.getFullYear());let j={REQUESTED:"bg-yellow-100 text-yellow-800",CONFIRMED:"bg-blue-100 text-blue-800",ACTIVE:"bg-green-100 text-green-800",COMPLETED:"bg-gray-100 text-gray-800"};return m?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin",children:a.jsx(l.Z,{className:"w-8 h-8"})})}):(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(l.Z,{className:"w-8 h-8"})," Fleet Bookings Calendar"]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between bg-white border rounded-lg p-4 mb-6",children:[a.jsx("button",{onClick:()=>i(new Date(s.getFullYear(),s.getMonth()-1)),className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(d,{className:"w-5 h-5"})}),a.jsx("h2",{className:"text-xl font-semibold",children:b}),a.jsx("button",{onClick:()=>i(new Date(s.getFullYear(),s.getMonth()+1)),className:"p-2 hover:bg-gray-100 rounded",children:a.jsx(o,{className:"w-5 h-5"})})]})]}),h&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:h})}),a.jsx("div",{className:"space-y-3",children:Array.from({length:p}).map((e,t)=>{let r=t+1,l=new Date(s.getFullYear(),s.getMonth(),r).toLocaleString("default",{weekday:"long"}),i=u(r),d=v.getDate()===r&&v.getMonth()===s.getMonth()&&v.getFullYear()===s.getFullYear();return(0,a.jsxs)("div",{className:`rounded-lg overflow-hidden border-2 ${d?"border-blue-400 bg-blue-50":"border-gray-200"}`,children:[(0,a.jsxs)("div",{className:`px-4 py-3 font-semibold flex items-center justify-between ${d?"bg-blue-400 text-white":"bg-gray-100"}`,children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"text-lg",children:r}),a.jsx("span",{className:"ml-2 text-sm opacity-75",children:l})]}),(0,a.jsxs)("span",{className:"text-sm bg-gray-300 bg-opacity-50 px-2 py-1 rounded",children:[i.length," booking",1!==i.length?"s":""]})]}),i.length>0?a.jsx("div",{className:"divide-y max-h-96 overflow-y-auto",children:i.map(e=>a.jsx(n.default,{href:`/bookings/${e.id}`,className:"block px-4 py-3 hover:bg-gray-50 transition",children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-semibold text-blue-600 mb-1",children:e.van?.registration||"Unknown Van"}),(0,a.jsxs)("div",{className:"text-sm text-gray-700 space-y-1",children:[(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Project:"})," ",e.projectId]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Driver:"})," ",e.driverName]}),(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Time:"})," ",new Date(e.startDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","-"," ",new Date(e.endDateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.bookingPoc&&(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[a.jsx(c,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:"POC:"})," ",e.bookingPoc]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold whitespace-nowrap ${j[e.status]||"bg-gray-100 text-gray-800"}`,children:e.status})]})},e.id))}):a.jsx("div",{className:"px-4 py-6 text-center text-gray-400 text-sm",children:"No bookings scheduled"})]},r)})}),(0,a.jsxs)("div",{className:"mt-8 bg-gray-50 rounded-lg p-4 border",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Monthly Stats"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-gray-600",children:"Total Bookings"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"CONFIRMED"===e.status).length}),a.jsx("div",{className:"text-gray-600",children:"Confirmed"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"REQUESTED"===e.status).length}),a.jsx("div",{className:"text-gray-600",children:"Requested"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:e.filter(e=>e.bookingPoc).length}),a.jsx("div",{className:"text-gray-600",children:"With POC"})]})]})]})]})}},6557:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(7577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,...m},x)=>(0,a.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:s,strokeWidth:d?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},434:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(9404),r=s.n(a)},3849:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/calendar/page.tsx#default`)},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var a=s(9510),r=s(5384),n=s.n(r);s(7272);let l={title:"VBMS - Van Booking & Fleet Management",description:"Modern fleet management system"};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,892,404],()=>s(1885));module.exports=a})();