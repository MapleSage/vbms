(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{7215:function(e,t,a){Promise.resolve().then(a.bind(a,1289))},1289:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var n=a(7437),r=a(2265),s=a(9763);let o=(0,s.Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var l=a(6540);let i=(0,s.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),c=[{label:"Today's Bookings",command:"Show me all bookings for today"},{label:"Available Vans",command:"What vans are available right now?"},{label:"Project POCs",command:"List all project point of contacts"},{label:"Azure Info",command:"Tell me about our Azure resources"}];function d(){let[e,t]=(0,r.useState)([{id:"1",role:"assistant",content:"Hello! I am your AI Assistant. I can help you with information about bookings, vans, project management and Azure resources. How can I help you today?",timestamp:new Date}]),[a,s]=(0,r.useState)(""),[d,u]=(0,r.useState)(!1),m=(0,r.useRef)(null),x=()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{x()},[e]);let y=async a=>{if(!a.trim())return;let n={id:Date.now().toString(),role:"user",content:a,timestamp:new Date};t(e=>[...e,n]),s(""),u(!0);try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e.map(e=>({role:e.role,content:e.content}))})});if(!a.ok)throw Error("Failed to get response");let n=await a.json(),r={id:(Date.now()+1).toString(),role:"assistant",content:n.content,timestamp:new Date};t(e=>[...e,r])}catch(e){console.error("Chat error:",e),t(e=>[...e,{id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again or contact support.",timestamp:new Date}])}finally{u(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto px-4 py-6 max-w-2xl h-screen flex flex-col",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)(o,{className:"w-6 h-6 text-blue-600"}),(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"AI Assistant"})]}),(0,n.jsx)("p",{className:"text-gray-600",children:"Get instant help with bookings, vans, and project management"})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4 border rounded-lg bg-gray-50 p-4 space-y-4",children:[e.map(e=>(0,n.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,n.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg ".concat("user"===e.role?'bg-blue-500 text-white"':"bg-white text-gray-900 border border-gray-200"),children:[(0,n.jsx)("p",{className:"text-sm",children:e.content}),(0,n.jsx)("p",{className:"text-xs mt-1 ".concat("user"===e.role?"text-blue-100":"text-gray-500"),children:e.timestamp.toLocaleTimeString()})]})},e.id)),d&&(0,n.jsx)("div",{className:"flex justify-start",children:(0,n.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-2",children:(0,n.jsx)(l.Z,{className:"w-5 h-5 animate-spin text-gray-400"})})}),(0,n.jsx)("div",{ref:m})]}),1===e.length&&(0,n.jsx)("div",{className:"mb-4 grid grid-cols-2 gap-2",children:c.map(e=>(0,n.jsx)("button",{onClick:()=>y(e.command),className:"text-left px-3 py-2 bg-gray-200 hover:bg-gray-300 rounded text-sm text-gray-700 transition",children:e.label},e.label))}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),onKeyPress:e=>{"Enter"!==e.key||d||y(a)},placeholder:"Type your message...",className:"flex-1 border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:d}),(0,n.jsx)("button",{onClick:()=>y(a),disabled:d||!a.trim(),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition flex items-center gap-2",children:(0,n.jsx)(i,{className:"w-4 h-4"})})]})]})}},9763:function(e,t,a){"use strict";a.d(t,{Z:function(){return o}});var n=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let a=(0,n.forwardRef)((a,o)=>{let{color:l="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:m,...x}=a;return(0,n.createElement)("svg",{ref:o,...r,width:i,height:i,stroke:l,strokeWidth:d?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(s(e)),u].join(" "),...x},[...t.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(m)?m:[m]])});return a.displayName="".concat(e),a}},6540:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9763).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7215)}),_N_E=e.O()}]);