(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[126],{540:function(e,s,t){Promise.resolve().then(t.bind(t,1835))},1835:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return x}});var r=t(7437),l=t(2265),a=t(9763);let n=(0,a.Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),i=(0,a.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var c=t(6540),o=t(2252);let d={"App Service":(0,r.jsx)(n,{className:"w-4 h-4"}),"SQL Database":(0,r.jsx)(i,{className:"w-4 h-4"}),"Container Registry":(0,r.jsx)(n,{className:"w-4 h-4"}),"App Service Plan":(0,r.jsx)(n,{className:"w-4 h-4"}),"SQL Server":(0,r.jsx)(i,{className:"w-4 h-4"}),"Azure Cosmos DB":(0,r.jsx)(i,{className:"w-4 h-4"}),"Azure OpenAI":(0,r.jsx)(n,{className:"w-4 h-4"})};function x(){let[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!0),[i,x]=(0,l.useState)(null),[u,m]=(0,l.useState)(""),[h,p]=(0,l.useState)("");(0,l.useEffect)(()=>{!async function(){try{let e=new URLSearchParams;u&&e.append("type",u),h&&e.append("location",h);let t=await fetch("/api/resources?".concat(e.toString()));if(!t.ok)throw Error("Failed to fetch");let r=await t.json();s(r),x(null)}catch(e){x("Failed to load resources"),console.error(e)}finally{a(!1)}}()},[u,h]);let y=e.reduce((e,s)=>(e[s.type]||(e[s.type]=[]),e[s.type].push(s),e),{}),j=Object.keys(y),f=[...new Set(e.map(e=>e.location))],g=e.length;return t?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)(c.Z,{className:"w-8 h-8 animate-spin"})}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Azure Resources Inventory"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:g}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Total Resources"})]}),(0,r.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-green-600",children:j.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Resource Types"})]}),(0,r.jsxs)("div",{className:"bg-purple-50 rounded-lg p-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:f.length}),(0,r.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Locations"})]})]}),(0,r.jsxs)("div",{className:"mb-6 flex gap-4",children:[(0,r.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"border rounded px-3 py-2",children:[(0,r.jsx)("option",{value:"",children:"All Types"}),j.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"border rounded px-3 py-2",children:[(0,r.jsx)("option",{value:"",children:"All Locations"}),f.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),i&&(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6 flex gap-2",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-red-700",children:i})]}),(0,r.jsx)("div",{className:"space-y-6",children:Object.entries(y).map(e=>{let[s,t]=e;return(0,r.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-gray-100 px-4 py-3 font-semibold flex items-center gap-2",children:[d[s]||(0,r.jsx)(n,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[s," (",t.length,")"]})]}),(0,r.jsx)("div",{className:"divide-y",children:t.map(e=>(0,r.jsx)("div",{className:"px-4 py-4 hover:bg-gray-50 transition",children:(0,r.jsxs)("div",{className:"flex justify-between items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 mt-2 space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Location:"})," ",e.location]}),e.subscription&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Subscription:"})," ",e.subscription.substring(0,8),"..."]}),e.resourceGroup&&(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Resource Group:"})," ",e.resourceGroup]})]})]}),e.resourceLink&&(0,r.jsx)("a",{href:e.resourceLink,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600",children:"View in Azure"})]})},e.id))})]},s)})})]})}},9763:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var r=t(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let t=(0,r.forwardRef)((t,n)=>{let{color:i="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:x="",children:u,...m}=t;return(0,r.createElement)("svg",{ref:n,...l,width:c,height:c,stroke:i,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(a(e)),x].join(" "),...m},[...s.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(u)?u:[u]])});return t.displayName="".concat(e),t}},2252:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6540:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(9763).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])}},function(e){e.O(0,[971,117,744],function(){return e(e.s=540)}),_N_E=e.O()}]);