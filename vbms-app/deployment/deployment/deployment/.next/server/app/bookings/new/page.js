(()=>{var e={};e.id=559,e.ids=[559],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1976:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(4966),r(8059),r(1506),r(5866);var s=r(3191),a=r(8716),n=r(7922),l=r.n(n),o=r(5231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["bookings",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4966)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/bookings/new/page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(r.bind(r,8059)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/bookings/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,1506)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/bookings/new/page.tsx"],m="/bookings/new/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/bookings/new/page",pathname:"/bookings/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5846:(e,t,r)=>{Promise.resolve().then(r.bind(r,8598))},2462:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2994,23)),Promise.resolve().then(r.t.bind(r,6114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,9671,23)),Promise.resolve().then(r.t.bind(r,1868,23)),Promise.resolve().then(r.t.bind(r,4759,23))},7802:()=>{},5303:()=>{},8598:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(326),a=r(7577),n=r(434),l=r(6226),o=r(5047),i=r(7888),d=r(6557);let c=(0,d.Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]),m=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var u=r(7358);function x(){let e=(0,o.useRouter)(),[t,r]=(0,a.useState)([]),[d,x]=(0,a.useState)(!1),[g,h]=(0,a.useState)(""),[p,b]=(0,a.useState)(!1),[f,v]=(0,a.useState)({projectId:"",vanId:"",driverName:"",driverContact:"",startDateTime:"",endDateTime:"",bookingPoc:""}),y=async t=>{t.preventDefault(),x(!0),h("");try{let t=await fetch("/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to create booking");b(!0),setTimeout(()=>{e.push("/bookings")},2e3)}catch(e){h(e.message)}finally{x(!1)}},j=e=>{v({...f,[e.target.name]:e.target.value})};return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)(n.default,{href:"/",className:"flex items-center gap-3",children:[s.jsx(l.default,{src:"/images/swire-sticky-logo-1.png",alt:"Swire",width:120,height:40,className:"h-10 w-auto"}),s.jsx("span",{className:"text-xl font-bold text-gray-900 border-l pl-3 border-gray-300",children:"VBMS"})]}),(0,s.jsxs)("nav",{className:"flex gap-4",children:[s.jsx(n.default,{href:"/",className:"text-gray-600 hover:text-gray-900",children:"Home"}),s.jsx(n.default,{href:"/bookings",className:"text-blue-600 font-semibold",children:"Bookings"}),s.jsx(n.default,{href:"/vans",className:"text-gray-600 hover:text-gray-900",children:"Vans"}),s.jsx(n.default,{href:"/calendar",className:"text-gray-600 hover:text-gray-900",children:"Calendar"})]})]})})}),(0,s.jsxs)("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx(n.default,{href:"/bookings",className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"â† Back to Bookings"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mt-4",children:"Create New Booking"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new van booking"})]}),p&&s.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-green-800",children:[s.jsx(i.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"Booking created successfully! Redirecting..."})]})}),g&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(i.Z,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:g})]})}),(0,s.jsxs)("form",{onSubmit:y,className:"bg-white rounded-lg shadow-md p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4"}),"Select Van"]})}),(0,s.jsxs)("select",{name:"vanId",value:f.vanId,onChange:j,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Choose a van..."}),t.map(e=>(0,s.jsxs)("option",{value:e.vanId,children:[e.registration," - ",e.make," ",e.model," (",e.status,")"]},e.id))]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Project ID"}),s.jsx("input",{type:"text",name:"projectId",value:f.projectId,onChange:j,required:!0,placeholder:"e.g., 12345",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-4 h-4"}),"Driver Name"]})}),s.jsx("input",{type:"text",name:"driverName",value:f.driverName,onChange:j,required:!0,placeholder:"John Smith",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Contact"}),s.jsx("input",{type:"text",name:"driverContact",value:f.driverContact,onChange:j,required:!0,placeholder:"john@example.com or +1234567890",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(u.Z,{className:"w-4 h-4"}),"Start Date & Time"]})}),s.jsx("input",{type:"datetime-local",name:"startDateTime",value:f.startDateTime,onChange:j,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(u.Z,{className:"w-4 h-4"}),"End Date & Time"]})}),s.jsx("input",{type:"datetime-local",name:"endDateTime",value:f.endDateTime,onChange:j,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(m,{className:"w-4 h-4"}),"Project Leader / Booking POC (Optional)"]})}),s.jsx("input",{type:"text",name:"bookingPoc",value:f.bookingPoc,onChange:j,placeholder:"Name of project leader who initiated booking",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex gap-4",children:[s.jsx("button",{type:"submit",disabled:d||p,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",children:d?"Creating...":"Create Booking"}),s.jsx(n.default,{href:"/bookings",className:"px-6 py-3 border-2 border-gray-300 rounded-lg font-semibold text-gray-700 hover:bg-gray-50 transition",children:"Cancel"})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Automatic Conflict Detection"}),s.jsx("p",{className:"text-sm text-blue-800",children:"The system will automatically check for booking conflicts and prevent double-booking of vans during the same time period."})]})]})]})}},6557:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let r=(0,s.forwardRef)(({color:r="currentColor",size:l=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:d="",children:c,...m},u)=>(0,s.createElement)("svg",{ref:u,...a,width:l,height:l,stroke:r,strokeWidth:i?24*Number(o)/Number(l):o,className:["lucide",`lucide-${n(e)}`,d].join(" "),...m},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r}},7888:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},7358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(6557).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6226:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(9029),a=r.n(s)},434:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(9404),a=r.n(s)},5047:(e,t,r)=>{"use strict";var s=r(7389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},9029:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let s=r(1174),a=r(3078),n=r(2481),l=s._(r(6820));function o(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=n.Image},8059:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9510);function a(){return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading bookings..."})]})})}},4966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/bookings/new/page.tsx#default`)},1506:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>l});var s=r(9510),a=r(5384),n=r.n(a);r(7272);let l={title:"VBMS - Van Booking & Fleet Management",description:"Modern fleet management system"};function o({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:n().className,children:e})})}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[276,892,404,481],()=>r(1976));module.exports=s})();