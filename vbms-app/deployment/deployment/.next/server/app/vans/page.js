(()=>{var e={};e.id=957,e.ids=[957],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4133:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>d}),t(492),t(7612),t(1506),t(5866);var a=t(3191),l=t(8716),r=t(7922),n=t.n(r),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let d=["",{children:["vans",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,492)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/vans/page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,7612)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/vans/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Volumes/Macintosh HD Ext/VBMS/vbms-app/app/vans/page.tsx"],x="/vans/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/vans/page",pathname:"/vans",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2462:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8341:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2481,23)),Promise.resolve().then(t.t.bind(t,9404,23))},7802:()=>{},5303:()=>{},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>n});var a=t(9510),l=t(5384),r=t.n(l);t(7272);let n={title:"VBMS - Van Booking & Fleet Management",description:"Modern fleet management system"};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:r().className,children:e})})}},7612:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(9510);function l(){return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading vans..."})]})})}},492:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g,dynamic:()=>d,fetchCache:()=>m,revalidate:()=>c,runtime:()=>x});var a=t(9510),l=t(7371),r=t(4844),n=t(2688),i=t(687),o=t(8009);let d="force-dynamic",c=0,x="nodejs",m="force-no-store";async function h(){try{let e=(0,i.S)(),s=e?`${e}/api/vans`:"/api/vans";console.log("[Vans Page] Fetching from:",s);let t=await fetch(s,{cache:"no-store",next:{revalidate:0}});if(!t.ok)return console.error("[Vans Page] Failed to fetch vans:",t.status,t.statusText),[];let a=await t.json();return console.log("[Vans Page] Fetched vans:",a.length),a}catch(e){return console.error("[Vans Page] Error fetching vans:",e),[]}}async function g(){let e=await h();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(o.Z,{currentPage:"vans"}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Fleet Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"View and manage all vans"})]}),(0,a.jsxs)(l.default,{href:"/vans/new",className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition flex items-center gap-2",children:[a.jsx(r.Z,{className:"w-5 h-5"}),"Add Van"]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[a.jsx(b,{label:"Total Vans",value:e.length.toString(),color:"blue"}),a.jsx(b,{label:"Available",value:e.filter(e=>"AVAILABLE"===e.status).length.toString(),color:"green"}),a.jsx(b,{label:"Booked",value:e.filter(e=>"BOOKED"===e.status).length.toString(),color:"yellow"}),a.jsx(b,{label:"Active",value:e.filter(e=>"ACTIVE"===e.status).length.toString(),color:"purple"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>a.jsx(u,{van:e},e.id))})]})]})}function u({van:e}){return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition overflow-hidden",children:[e.photoUrl&&a.jsx("div",{className:"h-48 overflow-hidden bg-gray-100",children:a.jsx("img",{src:e.photoUrl,alt:`${e.make} ${e.model}`,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:a.jsx(r.Z,{className:"w-6 h-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.registration}),a.jsx("p",{className:"text-sm text-gray-600",children:e.vanId})]})]}),a.jsx(p,{status:e.status})]}),(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Make & Model:"}),(0,a.jsxs)("span",{className:"font-medium text-gray-900",children:[e.make," ",e.model]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Year:"}),a.jsx("span",{className:"font-medium text-gray-900",children:e.year})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Type:"}),a.jsx("span",{className:"font-medium text-gray-900",children:e.type})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Tier:"}),a.jsx("span",{className:"font-medium text-gray-900",children:e.tier})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Daily Rate:"}),(0,a.jsxs)("span",{className:"text-lg font-bold text-blue-600",children:["$",e.dailyRate]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Mileage Rate:"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-900",children:["$",e.mileageRate,"/mi"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(n.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e._count.bookings," bookings"]})]})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(l.default,{href:`/vans/${e.id}`,className:"block text-center bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"View Details"})})]})]})}function p({status:e}){return a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${{AVAILABLE:"bg-green-100 text-green-800",BOOKED:"bg-yellow-100 text-yellow-800",ACTIVE:"bg-blue-100 text-blue-800",UNAVAILABLE:"bg-red-100 text-red-800",INACTIVE:"bg-gray-100 text-gray-800"}[e]||"bg-gray-100 text-gray-800"}`,children:e})}function b({label:e,value:s,color:t}){return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:`text-3xl font-bold ${{blue:"text-blue-600",green:"text-green-600",yellow:"text-yellow-600",purple:"text-purple-600"}[t]} mb-1`,children:s}),a.jsx("div",{className:"text-sm text-gray-600",children:e})]})}},8009:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(9510),l=t(7371),r=t(7710),n=t(9755);function i({showBackButton:e=!1,backHref:s="/",currentPage:t}){return a.jsx("header",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[e&&(0,a.jsxs)(l.default,{href:s,className:"text-gray-600 hover:text-gray-900 flex items-center gap-2",children:[a.jsx(n.Z,{className:"w-5 h-5"}),a.jsx("span",{children:"Back"})]}),(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-3",children:[a.jsx(r.default,{src:"/images/swire-sticky-logo-1.png",alt:"Swire",width:120,height:40,className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-gray-900 border-l pl-3 border-gray-300",children:"VBMS"})]})]}),(0,a.jsxs)("nav",{className:"flex gap-4",children:[a.jsx(l.default,{href:"/",className:`${"home"===t?"text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"Home"}),a.jsx(l.default,{href:"/bookings",className:`${"bookings"===t?"text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"Bookings"}),a.jsx(l.default,{href:"/vans",className:`${"vans"===t?"text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"Vans"}),a.jsx(l.default,{href:"/calendar",className:`${"calendar"===t?"text-blue-600 font-semibold":"text-gray-600 hover:text-gray-900"}`,children:"Calendar"})]})]})})})}},687:(e,s,t)=>{"use strict";function a(){return process.env.VERCEL_URL?`https://${process.env.VERCEL_URL}`:process.env.NEXT_PUBLIC_SITE_URL?process.env.NEXT_PUBLIC_SITE_URL:""}t.d(s,{S:()=>a})},7272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[276,892,404,481,665],()=>t(4133));module.exports=a})();